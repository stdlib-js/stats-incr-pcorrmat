"use strict";var I=function(t,o){return function(){return o||t((o={exports:{}}).exports,o),o.exports}};var S=I(function(N,P){
var L=require('@stdlib/assert-is-positive-integer/dist').isPrimitive,z=require('@stdlib/assert-is-square-matrix/dist'),b=require('@stdlib/assert-is-vector-like/dist'),E=require('@stdlib/array-float64/dist'),y=require('@stdlib/error-tools-fmtprodmsg/dist'),M=require('@stdlib/math-base-special-sqrt/dist'),B=require('@stdlib/ndarray-ctor/dist'),F=require('@stdlib/ndarray-base-ctor/dist'),T=require('@stdlib/ndarray-base-numel/dist');function A(t,o){var e,a,c,u;return o?u=F:u=B,a=new E(t*t),c=[t,t],e=[t,1],u("float64",a,c,e,0,"row-major")}function D(t,o){var e=t.shape[0],a;for(a=0;a<e;a++)t.set(a,a,o);return t}function G(t){var o,e,a;return e=new E(t),a=[t],o=[1],F("float64",e,a,o,0,"row-major")}function H(t,o){var e,a,c,u,q,m,h,v;if(v=0,L(t))e=t,a=A(e,!1);else if(z(t))e=t.shape[0],a=t;else throw new TypeError(y('1JfDf',t));if(a=D(a,1),h=new E(e),c=new E(e),u=new E(e),m=A(e,!0),arguments.length>1){if(!b(o))throw new TypeError(y('1JfDc',o));if(T(o.shape)!==e)throw new Error("invalid argument. The number of elements (means) in the second argument must match correlation matrix dimensions. Expected: "+e+". Actual: "+T(o.shape)+".");return q=o,C}return q=G(e),k;function k(l){var w,g,f,p,i,n,x,d,j,V,r,s;if(arguments.length===0)return v===0?null:a;if(!b(l))throw new TypeError(y('1JfDd',l));if(l.shape[0]!==e)throw new Error(y('1Jf9g',e,l.shape[0]));if(j=v,v+=1,V=j/v,w=j||1,v===1)for(r=0;r<e;r++)for(x=l.get(r),d=q.get(r),n=x-d,d+=n/v,q.set(r,d),h[r]=n,c[r]+=n*(x-d),u[r]=M(c[r]/w),g=V*h[r],s=0;s<r;s++)f=m.get(r,s)+g*h[s],m.set(r,s,f),m.set(s,r,f);else for(r=0;r<e;r++)for(x=l.get(r),d=q.get(r),n=x-d,d+=n/v,q.set(r,d),h[r]=n,c[r]+=n*(x-d),u[r]=M(c[r]/w),g=V*h[r],i=u[r],s=0;s<r;s++)f=m.get(r,s)+g*h[s],m.set(r,s,f),m.set(s,r,f),p=f/w/(i*u[s]),a.set(r,s,p),a.set(s,r,p);return a}function C(l){var w,g,f,p,i,n;if(arguments.length===0)return v===0?null:a;if(!b(l))throw new TypeError(y('1JfDd',l));if(l.shape[0]!==e)throw new Error(y('1Jf9g',e,l.shape[0]));for(v+=1,i=0;i<e;i++)for(p=l.get(i)-q.get(i),h[i]=p,c[i]+=p*p,u[i]=M(c[i]/v),f=u[i],n=0;n<i;n++)g=m.get(i,n)+p*h[n],m.set(i,n,g),m.set(n,i,g),w=g/v/(f*u[n]),a.set(i,n,w),a.set(n,i,w);return a}}P.exports=H
});var J=S();module.exports=J;
/** @license Apache-2.0 */
//# sourceMappingURL=index.js.map
