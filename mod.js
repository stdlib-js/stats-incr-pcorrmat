// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./mod.d.ts" />
function t(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})})),e}var e="function"==typeof Object.defineProperty?Object.defineProperty:null;var r=function(){try{return e({},"x",{}),!0}catch(t){return!1}},n=Object.defineProperty,i=Object.prototype,o=i.toString,a=i.__defineGetter__,u=i.__defineSetter__,s=i.__lookupGetter__,f=i.__lookupSetter__;var c=function(t,e,r){var n,c,l,h;if("object"!=typeof t||null===t||"[object Array]"===o.call(t))throw new TypeError("invalid argument. First argument must be an object. Value: `"+t+"`.");if("object"!=typeof r||null===r||"[object Array]"===o.call(r))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+r+"`.");if((c="value"in r)&&(s.call(t,e)||f.call(t,e)?(n=t.__proto__,t.__proto__=i,delete t[e],t[e]=r.value,t.__proto__=n):t[e]=r.value),l="get"in r,h="set"in r,c&&(l||h))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return l&&a&&a.call(t,e,r.get),h&&u&&u.call(t,e,r.set),t},l=n,h=c,p=r()?l:h,g=p;var d=function(t,e,r){g(t,e,{configurable:!1,enumerable:!1,writable:!1,value:r})},v=d;var m=function(t){return"number"==typeof t};var y=function(){return"function"==typeof Symbol&&"symbol"==typeof Symbol("foo")}();var b=function(){return y&&"symbol"==typeof Symbol.toStringTag},_=Object.prototype.toString,w=_;var E=function(t){return w.call(t)},O=Object.prototype.hasOwnProperty;var j=function(t,e){return null!=t&&O.call(t,e)},A="function"==typeof Symbol?Symbol.toStringTag:"",T=j,P=A,x=_;var I=E,V=function(t){var e,r,n;if(null==t)return x.call(t);r=t[P],e=T(t,P);try{t[P]=void 0}catch(e){return x.call(t)}return n=x.call(t),e?t[P]=r:delete t[P],n},S=b()?V:I,U=Number,R=U.prototype.toString;var N=S,M=U,B=function(t){try{return R.call(t),!0}catch(t){return!1}},F=b();var L=function(t){return"object"==typeof t&&(t instanceof M||(F?B(t):"[object Number]"===N(t)))},k=m,C=L;var D=v,G=function(t){return k(t)||C(t)},Y=L;D(G,"isPrimitive",m),D(G,"isObject",Y);var $=G,J=Number.POSITIVE_INFINITY,W=U.NEGATIVE_INFINITY,z=Math.floor,X=z;var Z=function(t){return X(t)===t},q=J,H=W,K=Z;var Q=function(t){return t<q&&t>H&&K(t)},tt=$.isPrimitive,et=Q;var rt=function(t){return tt(t)&&et(t)},nt=$.isObject,it=Q;var ot=function(t){return nt(t)&&it(t.valueOf())},at=rt,ut=ot;var st=v,ft=function(t){return at(t)||ut(t)},ct=ot;st(ft,"isPrimitive",rt),st(ft,"isObject",ct);var lt=ft,ht=lt.isPrimitive;var pt=function(t){return ht(t)&&t>0},gt=lt.isObject;var dt=function(t){return gt(t)&&t.valueOf()>0},vt=pt,mt=dt;var yt=v,bt=function(t){return vt(t)||mt(t)},_t=dt;yt(bt,"isPrimitive",pt),yt(bt,"isObject",_t);var wt=bt;var Et=function(t){return"boolean"==typeof t},Ot=Boolean.prototype.toString;var jt=S,At=function(t){try{return Ot.call(t),!0}catch(t){return!1}},Tt=b();var Pt=function(t){return"object"==typeof t&&(t instanceof Boolean||(Tt?At(t):"[object Boolean]"===jt(t)))},xt=Et,It=Pt;var Vt=v,St=function(t){return xt(t)||It(t)},Ut=Pt;Vt(St,"isPrimitive",Et),Vt(St,"isObject",Ut);var Rt=St;var Nt="object"==typeof self?self:null,Mt="object"==typeof window?window:null,Bt=Rt.isPrimitive,Ft=function(){return new Function("return this;")()},Lt=Nt,kt=Mt,Ct=t(Object.freeze({__proto__:null}));var Dt=function(t){if(arguments.length){if(!Bt(t))throw new TypeError("invalid argument. Must provide a boolean primitive. Value: `"+t+"`.");if(t)return Ft()}if(Lt)return Lt;if(kt)return kt;if(Ct)return Ct;throw new Error("unexpected error. Unable to resolve global object.")},Gt=Dt,Yt=Gt();var $t=function(){return"function"==typeof Yt.BigInt&&"function"==typeof BigInt&&"bigint"==typeof Yt.BigInt("1")&&"bigint"==typeof BigInt("1")},Jt=p;var Wt=function(t,e,r){Jt(t,e,{configurable:!1,enumerable:!1,get:r})},zt=Wt,Xt={binary:1,bool:1,complex64:8,complex128:16,float16:2,bfloat16:2,float32:4,float64:8,float128:16,generic:null,int8:1,int16:2,int32:4,int64:8,int128:16,int256:32,uint8:1,uint8c:1,uint16:2,uint32:4,uint64:8,uint128:16,uint256:32};var Zt=function(t){return Xt[t]||null};var qt=function(t){var e,r;for(e=0,r=0;r<t.length;r++)t[r]<0&&(e+=1);return 0===e?1:e===t.length?-1:0};var Ht=function(t){return Math.abs(t)},Kt=Ht;var Qt=function(t){var e,r,n,i,o,a;if(0===(r=t.length))return 0;for(e=!0,n=!0,i=Kt(t[0]),a=1;a<r;a++){if(o=Kt(t[a]),e&&o<i?e=!1:n&&o>i&&(n=!1),!n&&!e)return 0;i=o}return n&&e?3:n?1:2};var te=function(t,e){return e&&(2===t||3===t)};var ee=function(t,e){return e&&(1===t||3===t)};var re=function(t,e,r){var n,i,o,a,u;for(n=t.length,i=r,o=r,u=0;u<n;u++){if(0===t[u])return[r,r];(a=e[u])>0?o+=a*(t[u]-1):a<0&&(i+=a*(t[u]-1))}return[i,o]};v(re,"assign",(function(t,e,r,n){var i,o,a,u,s;for(i=t.length,o=r,a=r,s=0;s<i;s++){if(0===t[s])return n[0]=r,n[1]=r,n;(u=e[s])>0?a+=u*(t[s]-1):u<0&&(o+=u*(t[s]-1))}return n[0]=o,n[1]=a,n}));var ne=re,ie=ne;var oe=function(t,e,r,n,i){var o;return 0!==t&&0!==i&&t===(o=ie(e,r,n))[1]-o[0]+1};var ae=function(t){return{ROW_MAJOR_CONTIGUOUS:t.ROW_MAJOR_CONTIGUOUS,COLUMN_MAJOR_CONTIGUOUS:t.COLUMN_MAJOR_CONTIGUOUS,READONLY:t.READONLY}};var ue=function(t){var e,r,n,i,o,a;if(0===(n=this._ndims))return this._accessors?this._buffer.get(this._offset):this._buffer[this._offset];if(this._flags.ROW_MAJOR_CONTIGUOUS||this._flags.COLUMN_MAJOR_CONTIGUOUS){if(1===this._iterationOrder)return this._accessors?this._buffer.get(this._offset+t):this._buffer[this._offset+t];if(-1===this._iterationOrder)return this._accessors?this._buffer.get(this.offset-t):this._buffer[this._offset-t]}if(r=this._shape,e=this._strides,i=this._offset,"column-major"===this._order){for(a=0;a<n;a++)t-=o=t%r[a],t/=r[a],i+=o*e[a];return this._accessors?this._buffer.get(i):this._buffer[i]}for(a=n-1;a>=0;a--)t-=o=t%r[a],t/=r[a],i+=o*e[a];return this._accessors?this._buffer.get(i):this._buffer[i]};var se=function(t,e){var r,n,i,o,a,u;if(0===(i=this._ndims))return this._accessors?this._buffer.set(t,this._offset):this._buffer[this._offset]=t,this;if(this._flags.ROW_MAJOR_CONTIGUOUS||this._flags.COLUMN_MAJOR_CONTIGUOUS){if(1===this._iterationOrder)return this._accessors?this._buffer.set(e,this._offset+t):this._buffer[this._offset+t]=e,this;if(-1===this._iterationOrder)return this._accessors?this._buffer.set(e,this._offset-t):this._buffer[this._offset-t]=e,this}if(n=this._shape,r=this._strides,o=this._offset,"column-major"===this._order){for(u=0;u<i;u++)t-=a=t%n[u],t/=n[u],o+=a*r[u];return this._accessors?this._buffer.set(e,o):this._buffer[o]=e,this}for(u=i-1;u>=0;u--)t-=a=t%n[u],t/=n[u],o+=a*r[u];return this._accessors?this._buffer.set(e,o):this._buffer[o]=e,this};var fe=function(){var t,e;for(t=this._offset,e=0;e<arguments.length-1;e++)t+=this._strides[e]*arguments[e];return this._accessors?this._buffer.set(arguments[e],t):this._buffer[t]=arguments[e],this};var ce=function(){var t,e;for(t=this._offset,e=0;e<arguments.length;e++)t+=this._strides[e]*arguments[e];return this._accessors?this._buffer.get(t):this._buffer[t]};var le=function(t){return t.re};var he=function(t){return t.im},pe=le,ge=he;var de=function(){var t,e,r,n;for(e=this._length,(t={}).type="ndarray",t.dtype=this.dtype,t.flags={READONLY:this._flags.READONLY},t.order=this._order,t.shape=this._shape.slice(),t.strides=this._strides.slice(),n=0;n<e;n++)t.strides[n]<0&&(t.strides[n]*=-1);if(t.data=[],"complex64"===t.dtype||"complex128"===t.dtype)for(n=0;n<e;n++)r=this.iget(n),t.data.push(pe(r),ge(r));else for(n=0;n<e;n++)t.data.push(this.iget(n));return t};var ve=function(t){return"string"==typeof t},me=String.prototype.valueOf;var ye=S,be=function(t){try{return me.call(t),!0}catch(t){return!1}},_e=b();var we=function(t){return"object"==typeof t&&(t instanceof String||(_e?be(t):"[object String]"===ye(t)))},Ee=ve,Oe=we;var je=v,Ae=function(t){return Ee(t)||Oe(t)},Te=we;je(Ae,"isPrimitive",ve),je(Ae,"isObject",Te);var Pe=Ae,xe=Pe.isPrimitive,Ie=/[-\/\\^$*+?.()|[\]{}]/g;var Ve=function(t){var e,r;if(!xe(t))throw new TypeError("invalid argument. Must provide a regular expression string. Value: `"+t+"`.");if("/"===t[0])for(r=t.length-1;r>=0&&"/"!==t[r];r--);return void 0===r||r<=0?t.replace(Ie,"\\$&"):(e=(e=t.substring(1,r)).replace(Ie,"\\$&"),t=t[0]+e+t.substring(r))},Se=/./,Ue=Gt(),Re=Ue.document&&Ue.document.childNodes,Ne=Int8Array,Me=Se,Be=Re,Fe=Ne;var Le=function(){return"function"==typeof Me||"object"==typeof Fe||"function"==typeof Be};var ke=function(){return/^\s*function\s*([^(]*)/i},Ce=ke;v(Ce,"REGEXP",ke());var De=Ce,Ge=S;var Ye=Array.isArray?Array.isArray:function(t){return"[object Array]"===Ge(t)},$e=Ye;var Je=function(t){if("function"!=typeof t)throw new TypeError("invalid argument. Must provide a function. Value: `"+t+"`.");return function(e){var r,n;if(!$e(e))return!1;if(0===(r=e.length))return!1;for(n=0;n<r;n++)if(!1===t(e[n]))return!1;return!0}};var We=function(t){return null!==t&&"object"==typeof t};v(We,"isObjectLikeArray",Je(We));var ze=We,Xe=ze;var Ze=S,qe=De.REGEXP,He=function(t){return Xe(t)&&(t._isBuffer||t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t))};var Ke=function(t){var e,r,n;if(("Object"===(r=Ze(t).slice(8,-1))||"Error"===r)&&t.constructor){if("string"==typeof(n=t.constructor).name)return n.name;if(e=qe.exec(n.toString()))return e[1]}return He(t)?"Buffer":r},Qe=Ke;var tr=Ke;var er=function(t){var e;return null===t?"null":"object"===(e=typeof t)?Qe(t).toLowerCase():e},rr=function(t){return tr(t).toLowerCase()},nr=Le()?rr:er,ir=nr;var or=function(t){return"function"===ir(t)},ar=RegExp.prototype.exec;var ur=S,sr=function(t){try{return ar.call(t),!0}catch(t){return!1}},fr=b();var cr=Ve,lr=or,hr=Pe.isPrimitive,pr=function(t){return"object"==typeof t&&(t instanceof RegExp||(fr?sr(t):"[object RegExp]"===ur(t)))};var gr=function(t,e,r){if(!hr(t))throw new TypeError("invalid argument. First argument must be a string primitive. Value: `"+t+"`.");if(hr(e))e=cr(e),e=new RegExp(e,"g");else if(!pr(e))throw new TypeError("invalid argument. Second argument must be a string primitive or regular expression. Value: `"+e+"`.");if(!hr(r)&&!lr(r))throw new TypeError("invalid argument. Third argument must be a string primitive or replacement function. Value: `"+r+"`.");return t.replace(e,r)},dr=gr,vr=le,mr=he,yr={int8:"new Int8Array( [ {{data}} ] )",uint8:"new Uint8Array( [ {{data}} ] )",uint8c:"new Uint8ClampedArray( [ {{data}} ] )",int16:"new Int16Array( [ {{data}} ] )",uint16:"new Uint16Array( [ {{data}} ] )",int32:"new Int32Array( [ {{data}} ] )",uint32:"new Uint32Array( [ {{data}} ] )",float32:"new Float32Array( [ {{data}} ] )",float64:"new Float64Array( [ {{data}} ] )",generic:"[ {{data}} ]",binary:"new Buffer( [ {{data}} ] )",complex64:"new Complex64Array( [ {{data}} ] )",complex128:"new Complex128Array( [ {{data}} ] )"};var br=function(){var t,e,r,n,i,o,a;if(e=this._shape.length,n="ndarray( '"+(i=this._dtype)+"', ",t="",this._length<=100)if("complex64"===i||"complex128"===i)for(a=0;a<this._length;a++)o=this.iget(a),t+=vr(o)+", "+mr(o),a<this._length-1&&(t+=", ");else for(a=0;a<this._length;a++)t+=this.iget(a),a<this._length-1&&(t+=", ");else{if("complex64"===i||"complex128"===i)for(a=0;a<3;a++)o=this.iget(a),t+=vr(o)+", "+mr(o),a<2&&(t+=", ");else for(a=0;a<3;a++)t+=this.iget(a),a<2&&(t+=", ");if(t+=", ..., ","complex64"===i||"complex128"===i)for(a=2;a>=0;a--)o=this.iget(this._length-1-a),t+=vr(o)+", "+mr(o),a>0&&(t+=", ");else for(a=2;a>=0;a--)t+=this.iget(this._length-1-a),a>0&&(t+=", ")}if(r=yr[this.dtype],n+=dr(r,"{{data}}",t),n+=", ",n+=0===e?"[]":"[ "+this._shape.join(", ")+" ]",n+=", ",n+="[ ",0===e)n+="0";else for(a=0;a<e;a++)this._strides[a]<0?n+=-this._strides[a]:n+=this._strides[a],a<e-1&&(n+=", ");return n+=" ]",n+=", ",n+="0",n+=", ",n+="'"+this._order+"'",n+=" )"},_r=S,wr="function"==typeof Uint8Array;var Er="function"==typeof Uint8Array?Uint8Array:null,Or=function(t){return wr&&t instanceof Uint8Array||"[object Uint8Array]"===_r(t)},jr=Er;var Ar=function(){var t,e;if("function"!=typeof jr)return!1;try{e=new jr(e=[1,3.14,-3.14,256,257]),t=Or(e)&&1===e[0]&&3===e[1]&&253===e[2]&&0===e[3]&&1===e[4]}catch(e){t=!1}return t};var Tr="function"==typeof Uint8Array?Uint8Array:void 0,Pr=function(){throw new Error("not implemented")},xr=Ar()?Tr:Pr,Ir=S,Vr="function"==typeof Uint16Array;var Sr="function"==typeof Uint16Array?Uint16Array:null,Ur=function(t){return Vr&&t instanceof Uint16Array||"[object Uint16Array]"===Ir(t)},Rr=Sr;var Nr=function(){var t,e;if("function"!=typeof Rr)return!1;try{e=new Rr(e=[1,3.14,-3.14,65536,65537]),t=Ur(e)&&1===e[0]&&3===e[1]&&65533===e[2]&&0===e[3]&&1===e[4]}catch(e){t=!1}return t};var Mr,Br="function"==typeof Uint16Array?Uint16Array:void 0,Fr=function(){throw new Error("not implemented")},Lr={uint16:Nr()?Br:Fr,uint8:xr};(Mr=new Lr.uint16(1))[0]=4660;var kr=52===new Lr.uint8(Mr.buffer)[0],Cr=S,Dr="function"==typeof ArrayBuffer;var Gr=function(t){return Dr&&t instanceof ArrayBuffer||"[object ArrayBuffer]"===Cr(t)},Yr=S,$r="function"==typeof Float64Array;var Jr="function"==typeof Float64Array?Float64Array:null,Wr=function(t){return $r&&t instanceof Float64Array||"[object Float64Array]"===Yr(t)},zr=Jr;var Xr=function(){var t,e;if("function"!=typeof zr)return!1;try{e=new zr([1,3.14,-3.14,NaN]),t=Wr(e)&&1===e[0]&&3.14===e[1]&&-3.14===e[2]&&e[3]!=e[3]}catch(e){t=!1}return t};var Zr="function"==typeof Float64Array?Float64Array:void 0,qr=function(){throw new Error("not implemented")},Hr=Xr()?Zr:qr,Kr="function"==typeof ArrayBuffer?ArrayBuffer:null,Qr=Gr,tn=Hr,en=Kr;var rn=function(){var t,e,r;if("function"!=typeof en)return!1;try{r=new en(16),(t=Qr(r)&&"function"==typeof en.isView)&&((e=new tn(r))[0]=-3.14,e[1]=NaN,t=t&&en.isView(e)&&16===r.byteLength&&-3.14===e[0]&&e[1]!=e[1])}catch(e){t=!1}return t};var nn="function"==typeof ArrayBuffer?ArrayBuffer:void 0,on=function(){throw new Error("not implemented")},an=rn()?nn:on,un=S,sn="function"==typeof DataView;var fn="function"==typeof DataView?DataView:null,cn=function(t){return sn&&t instanceof DataView||"[object DataView]"===un(t)},ln=an,hn=fn;var pn=function(){var t,e,r;if("function"!=typeof hn)return!1;try{r=new ln(24),e=new hn(r,8),(t=cn(e)&&"function"==typeof e.getFloat64&&"function"==typeof e.setFloat64)&&(e.setFloat64(0,-3.14),e.setFloat64(8,NaN),t=t&&e.buffer===r&&16===e.byteLength&&8===e.byteOffset&&-3.14===e.getFloat64(0)&&e.getFloat64(8)!=e.getFloat64(8))}catch(e){t=!1}return t};var gn="function"==typeof DataView?DataView:void 0,dn=function(){throw new Error("not implemented")},vn=pn()?gn:dn,mn="function"==typeof BigInt?BigInt:void 0,yn=["binary","complex64","complex128","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"];var bn=function(){return yn.slice()};var _n=function(){return{bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256}},wn=p;var En=function(t,e,r){wn(t,e,{configurable:!1,enumerable:!0,writable:!1,value:r})},On=En;var jn=function(t){return Object.keys(Object(t))},An=jn;var Tn=function(){return function(){return 2!==(An(arguments)||"").length}(1,2)},Pn=void 0!==Object.keys,xn=S;var In=function(t){return"[object Arguments]"===xn(t)},Vn=In;var Sn=function(){return Vn(arguments)}();var Un=function(t){return t!=t},Rn=$.isPrimitive,Nn=Un;var Mn=function(t){return Rn(t)&&Nn(t)},Bn=$.isObject,Fn=Un;var Ln=function(t){return Bn(t)&&Fn(t.valueOf())},kn=Mn,Cn=Ln;var Dn=v,Gn=function(t){return kn(t)||Cn(t)},Yn=Ln;Dn(Gn,"isPrimitive",Mn),Dn(Gn,"isObject",Yn);var $n,Jn=Gn,Wn=Object.prototype.propertyIsEnumerable;$n=!Wn.call("beep","0");var zn=Pe,Xn=Jn.isPrimitive,Zn=lt.isPrimitive,qn=Wn,Hn=$n;var Kn=function(t,e){var r;return null!=t&&(!(r=qn.call(t,e))&&Hn&&zn(t)?!Xn(e=+e)&&Zn(e)&&e>=0&&e<t.length:r)},Qn=Kn,ti=j,ei=Qn,ri=Ye,ni=Z;var ii=Sn?In:function(t){return null!==t&&"object"==typeof t&&!ri(t)&&"number"==typeof t.length&&ni(t.length)&&t.length>=0&&t.length<=4294967295&&ti(t,"callee")&&!ei(t,"callee")},oi=ii,ai=jn,ui=Array.prototype.slice;var si=function(t){return oi(t)?ai(ui.call(t)):ai(t)};var fi=Qn((function(){}),"prototype"),ci=!Qn({toString:null},"toString"),li=Z;var hi=function(t){return"object"==typeof t&&null!==t&&"number"==typeof t.length&&li(t.length)&&t.length>=0&&t.length<=9007199254740991},pi=Jn,gi=hi,di=Pe.isPrimitive,vi=lt.isPrimitive;var mi=function(t,e,r){var n,i;if(!gi(t)&&!di(t))throw new TypeError("invalid argument. First argument must be an array-like object. Value: `"+t+"`.");if(0===(n=t.length))return-1;if(3===arguments.length){if(!vi(r))throw new TypeError("invalid argument. `fromIndex` must be an integer. Value: `"+r+"`.");if(r>=0){if(r>=n)return-1;i=r}else(i=n+r)<0&&(i=0)}else i=0;if(pi(e)){for(;i<n;i++)if(pi(t[i]))return i}else for(;i<n;i++)if(t[i]===e)return i;return-1};var yi,bi=function(t){return t.constructor&&t.constructor.prototype===t},_i="undefined"==typeof window?void 0:window,wi=j,Ei=mi,Oi=nr,ji=bi,Ai=["console","external","frame","frameElement","frames","innerHeight","innerWidth","outerHeight","outerWidth","pageXOffset","pageYOffset","parent","scrollLeft","scrollTop","scrollX","scrollY","self","webkitIndexedDB","webkitStorageInfo","window"],Ti=_i;yi=function(){var t;if("undefined"===Oi(Ti))return!1;for(t in Ti)try{-1===Ei(Ai,t)&&wi(Ti,t)&&null!==Ti[t]&&"object"===Oi(Ti[t])&&ji(Ti[t])}catch(t){return!0}return!1}();var Pi="undefined"!=typeof window,xi=yi,Ii=bi,Vi=Pi;var Si=ze,Ui=j,Ri=ii,Ni=fi,Mi=ci,Bi=function(t){if(!1===Vi&&!xi)return Ii(t);try{return Ii(t)}catch(t){return!1}},Fi=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];var Li,ki=jn,Ci=si,Di=function(t){var e,r,n,i,o,a,u;if(i=[],Ri(t)){for(u=0;u<t.length;u++)i.push(u.toString());return i}if("string"==typeof t){if(t.length>0&&!Ui(t,"0"))for(u=0;u<t.length;u++)i.push(u.toString())}else{if(!1===(n="function"==typeof t)&&!Si(t))return i;r=Ni&&n}for(o in t)r&&"prototype"===o||!Ui(t,o)||i.push(String(o));if(Mi)for(e=Bi(t),u=0;u<Fi.length;u++)a=Fi[u],e&&"constructor"===a||!Ui(t,a)||i.push(String(a));return i};Li=Pn?Tn()?Ci:ki:Di;var Gi=On,Yi=Li;var $i=function(t,e){var r,n,i;for(r=Yi(e),i=0;i<r.length;i++)n=r[i],Gi(t,n,e[n]);return t},Ji=bn,Wi=_n,zi=$i;v(Ji,"enum",Wi),zi(Ji,Wi());var Xi=Ji,Zi=["row-major","column-major"];var qi=function(){return Zi.slice()};v(qi,"enum",(function(){return{"row-major":1,"column-major":2}}));var Hi=qi,Ki=["throw","clamp","wrap"];var Qi=function(){return Ki.slice()};v(Qi,"enum",(function(){return{throw:1,clamp:2,wrap:3}}));var to=Qi,eo=kr,ro=an,no=vn,io=mn,oo=Hi.enum,ao=to.enum,uo=(0,Xi.enum)(),so=oo(),fo=ao();var co=function(){var t,e,r,n,i,o,a,u,s,f,c,l,h,p;if(s=this._mode||"throw",a=this._submode||[s],r=33+16*(l=this._ndims)+(h=a.length),(u=this.__meta_dataview__)&&u.byteLength===r)return u;for(u=new no(new ro(r)),i=this._shape,o=this._strides,n=this._dtype,t=this._bytesPerElement,f=0,u.setInt8(f,eo?1:0),f+=1,u.setInt16(f,uo[n],eo),f+=2,u.setBigInt64(f,io(l),eo),c=8*l,f+=8,p=0;p<l;p++)u.setBigInt64(f,io(i[p]),eo),u.setBigInt64(f+c,io(o[p]*t),eo),f+=8;for(f+=c,u.setBigInt64(f,io(this._offset*t),eo),f+=8,u.setInt8(f,so[this._order]),f+=1,u.setInt8(f,fo[s]),f+=1,u.setBigInt64(f,io(h),eo),f+=8,p=0;p<h;p++)u.setInt8(f,fo[a[p]]),f+=1;return e=0,e|=this._flags.READONLY?4:0,u.setInt32(f,e,eo),this.__meta_dataview__=u,u},lo=kr,ho=xr,po=vn,go=z;var vo=function(t){var e,r,n,i;return e=new ho(8),0===t||(i=(4294967295&t)>>>0,n=go(t/4294967296),r=new po(e.buffer),lo?(r.setUint32(0,i,lo),r.setUint32(4,n,lo)):(r.setUint32(0,n,lo),r.setUint32(4,i,lo))),e},mo=kr,yo=vn,bo=z,_o=new xr(8),wo=new yo(_o.buffer);var Eo=vo;v(Eo,"assign",(function(t,e,r,n){var i,o,a;if(0===t){for(a=0;a<_o.length;a++)e[n]=0,n+=r;return e}for(o=(4294967295&t)>>>0,i=bo(t/4294967296),mo?(wo.setUint32(0,o,mo),wo.setUint32(4,i,mo)):(wo.setUint32(0,i,mo),wo.setUint32(4,o,mo)),a=0;a<_o.length;a++)e[n]=_o[a],n+=r;return e}));var Oo=kr,jo=an,Ao=vn,To=xr,Po=Hi.enum,xo=to.enum,Io=Eo.assign,Vo=(0,Xi.enum)(),So=Po(),Uo=xo();var Ro=function(){var t,e,r,n,i,o,a,u,s,f,c,l,h,p,g;if(f=this._mode||"throw",u=this._submode||[f],n=33+16*(h=this._ndims)+(p=u.length),(s=this.__meta_dataview__)&&s.byteLength===n)return s;for(s=new Ao(new jo(n)),e=new To(s.buffer),o=this._shape,a=this._strides,i=this._dtype,t=this._bytesPerElement,c=0,s.setInt8(c,Oo?1:0),c+=1,s.setInt16(c,Vo[i],Oo),Io(h,e,1,c+=2),l=8*h,c+=8,g=0;g<h;g++)Io(o[g],e,1,c),Io(a[g]*t,e,1,c+l),c+=8;for(c+=l,Io(this._offset*t,e,1,c),c+=8,s.setInt8(c,So[this._order]),c+=1,s.setInt8(c,Uo[f]),Io(p,e,1,c+=1),c+=8,g=0;g<p;g++)s.setInt8(c,Uo[u[g]]),c+=1;return r=0,r|=this._flags.READONLY?4:0,s.setInt32(c,r,Oo),this.__meta_dataview__=s,s},No=$t,Mo=v,Bo=zt,Fo=Zt,Lo=qt,ko=Qt,Co=te,Do=ee,Go=oe,Yo=ae,$o=ue,Jo=se,Wo=fe,zo=ce,Xo=de,Zo=br,qo=co,Ho=Ro;function Ko(t,e,r,n,i,o){var a,u,s,f,c;if(!(this instanceof Ko))return new Ko(t,e,r,n,i,o);for(f=1,c=0;c<r.length;c++)f*=r[c];return u=e.BYTES_PER_ELEMENT?e.BYTES_PER_ELEMENT*f:null,this._byteLength=u,this._bytesPerElement=Fo(t),this._buffer=e,this._dtype=t,this._length=f,this._ndims=r.length,this._offset=i,this._order=o,this._shape=r,this._strides=n,this._accessors=Boolean(e.get&&e.set),this._iterationOrder=Lo(n),a=Go(f,r,n,i,this._iterationOrder),s=ko(n),this._flags={ROW_MAJOR_CONTIGUOUS:Do(s,a),COLUMN_MAJOR_CONTIGUOUS:Co(s,a),READONLY:!1},this.__meta_dataview__=null,this}Mo(Ko,"name","ndarray"),Bo(Ko.prototype,"byteLength",(function(){return this._byteLength})),Bo(Ko.prototype,"BYTES_PER_ELEMENT",(function(){return this._bytesPerElement})),Bo(Ko.prototype,"data",(function(){return this._buffer})),Bo(Ko.prototype,"dtype",(function(){return this._dtype})),Bo(Ko.prototype,"flags",(function(){return Yo(this._flags)})),Bo(Ko.prototype,"length",(function(){return this._length})),Bo(Ko.prototype,"ndims",(function(){return this._ndims})),Bo(Ko.prototype,"offset",(function(){return this._offset})),Bo(Ko.prototype,"order",(function(){return this._order})),Bo(Ko.prototype,"shape",(function(){return this._shape.slice()})),Bo(Ko.prototype,"strides",(function(){return this._strides.slice()})),Mo(Ko.prototype,"get",zo),Mo(Ko.prototype,"iget",$o),Mo(Ko.prototype,"set",Wo),Mo(Ko.prototype,"iset",Jo),Mo(Ko.prototype,"toString",Zo),Mo(Ko.prototype,"toJSON",Xo),Mo(Ko.prototype,"__array_meta_dataview__",No()?qo:Ho);var Qo=Ko,ta=Qo;var ea=function(t){return t instanceof ta||null!==t&&"object"==typeof t&&"object"==typeof t.data&&"object"==typeof t.shape&&"object"==typeof t.strides&&"number"==typeof t.offset&&"string"==typeof t.order&&"number"==typeof t.ndims&&"string"==typeof t.dtype&&"number"==typeof t.length&&"object"==typeof t.flags&&"function"==typeof t.get&&"function"==typeof t.set},ra=ea;var na=function(t){return ra(t)&&2===t.ndims&&2===t.shape.length&&2===t.strides.length};var ia=function(t){return na(t)&&t.shape[0]===t.shape[1]},oa=ea;var aa=function(t){return oa(t)&&1===t.ndims&&1===t.shape.length&&1===t.strides.length},ua=hi,sa=lt.isPrimitive,fa=Pe.isPrimitive,ca=Jn.isPrimitive;var la=function(t,e,r){var n,i,o;if(!ua(t)&&!fa(t))throw new TypeError("invalid argument. First argument must be array-like. Value: `"+t+"`.");if(arguments.length<2)throw new Error("insufficient input arguments. Must provide a search value.");if(arguments.length>2){if(!sa(r))throw new TypeError("invalid argument. Third argument must be an integer. Value: `"+r+"`.");(i=r)<0&&(i=0)}else i=0;if(fa(t)){if(!fa(e))throw new TypeError("invalid argument. Second argument must be a string primitive. Value: `"+e+"`.");return-1!==t.indexOf(e,i)}if(n=t.length,ca(e)){for(o=i;o<n;o++)if(ca(t[o]))return!0;return!1}for(o=i;o<n;o++)if(t[o]===e)return!0;return!1},ha=la,pa=Pe.isPrimitive;var ga=function(t){if(!pa(t))throw new TypeError("invalid argument. Must provide a primitive string. Value: `"+t+"`.");return t.toLowerCase()},da=Pe.isPrimitive;var va=function(t){if(!da(t))throw new TypeError("invalid argument. Must provide a primitive string. Value: `"+t+"`.");return t.toUpperCase()},ma=ga,ya=va,ba=Pe.isPrimitive;var _a=function(t){return ba(t)&&t===ya(t)&&t!==ma(t)},wa=J,Ea=W;var Oa=function(t){return t==t&&t>Ea&&t<wa},ja=lt.isPrimitive;var Aa=function(t){return ja(t)&&t>=0},Ta=lt.isObject;var Pa=function(t){return Ta(t)&&t.valueOf()>=0},xa=Aa,Ia=Pa;var Va=v,Sa=function(t){return xa(t)||Ia(t)},Ua=Pa;Va(Sa,"isPrimitive",Aa),Va(Sa,"isObject",Ua);var Ra=Sa,Na=Ra.isPrimitive,Ma=Pe.isPrimitive;var Ba=function(t,e){var r,n;if(!Ma(t))throw new TypeError("invalid argument. First argument must be a string. Value: `"+t+"`.");if(!Na(e))throw new TypeError("invalid argument. Second argument must be a nonnegative integer. Value: `"+e+"`.");if(0===t.length||0===e)return"";if(t.length*e>9007199254740991)throw new RangeError("invalid argument. Output string length exceeds maximum allowed string length.");for(r="",n=e;1==(1&n)&&(r+=t),0!==(n>>>=1);)t+=t;return r},Fa=lt.isPrimitive,La=Pe.isPrimitive;var ka=Ba,Ca=function(t,e,r){var n,i;if(!La(t))throw new TypeError("invalid argument. First argument must be a string primitive. Value: `"+t+"`.");if(!La(e))throw new TypeError("invalid argument. Second argument must be a string primitive. Value: `"+e+"`.");if(arguments.length>2){if(!Fa(r))throw new TypeError("invalid argument. Third argument must be an integer. Value: `"+r+"`.");n=r<0?t.length+r:r}else n=0;if(0===e.length)return!0;if(n<0||n+e.length>t.length)return!1;for(i=0;i<e.length;i++)if(t.charCodeAt(n+i)!==e.charCodeAt(i))return!1;return!0};var Da=function(t,e,r){var n=!1,i=e-t.length;return i<0||(Ca(t,"-")&&(n=!0,t=t.substr(1)),t=r?t+ka("0",i):ka("0",i)+t,n&&(t="-"+t)),t},Ga=_a,Ya=va,$a=ga,Ja=Oa,Wa=$.isPrimitive,za=Da;var Xa=function(t){var e,r,n;switch(t.specifier){case"b":e=2;break;case"o":e=8;break;case"x":case"X":e=16;break;default:e=10}if(r=t.arg,n=parseInt(r,10),!Ja(n)){if(!Wa(r))throw new Error("invalid integer. Value: "+r);n=0}return n<0&&("u"===t.specifier||10!==e)&&(n=4294967295+n+1),n<0?(r=(-n).toString(e),t.precision&&(r=za(r,t.precision,t.padRight)),r="-"+r):(r=n.toString(e),n||t.precision?t.precision&&(r=za(r,t.precision,t.padRight)):r="",t.sign&&(r=t.sign+r)),16===e&&(t.alternate&&(r="0x"+r),r=Ga(t.specifier)?Ya(r):$a(r)),8===e&&t.alternate&&"0"!==r.charAt(0)&&(r="0"+r),r},Za=_a,qa=va,Ha=ga,Ka=gr,Qa=Oa,tu=$.isPrimitive,eu=Ht,ru=/e\+(\d)$/,nu=/e-(\d)$/,iu=/^(\d+)$/,ou=/^(\d+)e/,au=/\.0$/,uu=/\.0*e/,su=/(\..*[^0])0*e/;var fu=function(t){var e,r,n=parseFloat(t.arg);if(!Qa(n)){if(!tu(t.arg))throw new Error("invalid floating-point number. Value: "+r);n=t.arg}switch(t.specifier){case"e":case"E":r=n.toExponential(t.precision);break;case"f":case"F":r=n.toFixed(t.precision);break;case"g":case"G":eu(n)<1e-4?((e=t.precision)>0&&(e-=1),r=n.toExponential(e)):r=n.toPrecision(t.precision),t.alternate||(r=Ka(r,su,"$1e"),r=Ka(r,uu,"e"),r=Ka(r,au,""));break;default:throw new Error("invalid double notation. Value: "+t.specifier)}return r=Ka(r,ru,"e+0$1"),r=Ka(r,nu,"e-0$1"),t.alternate&&(r=Ka(r,iu,"$1."),r=Ka(r,ou,"$1.e")),n>=0&&t.sign&&(r=t.sign+r),r=Za(t.specifier)?qa(r):Ha(r)},cu=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;var lu=Ba;var hu=Pe.isPrimitive,pu=ha,gu=Un,du=Xa,vu=fu,mu=function(t){var e,r,n,i,o;for(e=0,n=[],o=cu.exec(t);o;)(r=t.slice(e,cu.lastIndex-o[0].length)).length&&n.push(r),(i=a(o,n.length))&&n.push(i),e=cu.lastIndex,o=cu.exec(t);return(r=t.slice(e)).length&&n.push(r),n;function a(t){return{mapping:t[1]?parseInt(t[1],10):void 0,flags:t[2],width:t[3],hasPeriod:"."===t[4],precision:t[5],specifier:t[6]}}},yu=function(t,e,r){var n=e-t.length;return n<0?t:t=r?t+lu(" ",n):lu(" ",n)+t},bu=Da,_u=String.fromCharCode;var wu=function(t){var e,r,n,i,o,a,u,s,f;if(!hu(t))throw new TypeError("invalid argument. Must provide a string. Value: `"+t+"`.");for(e=mu(t),a="",u=1,s=0;s<e.length;s++)if(n=e[s],hu(n))a+=n;else{for(n.mapping&&(u=n.mapping),r=n.flags,f=0;f<r.length;f++)switch(i=r.charAt(f)){case" ":n.sign=" ";break;case"+":n.sign="+";break;case"-":n.padRight=!0,n.padZeros=!1;break;case"0":n.padZeros=!pu(r,"-");break;case"#":n.alternate=!0;break;default:throw new Error("invalid flag: "+i)}if("*"===n.width){if(n.width=parseInt(arguments[u],10),u+=1,gu(n.width))throw new TypeError("the argument for * width at position "+u+" is not a number. Value: `"+n.width+"`.");n.width<0&&(n.padRight=!0,n.width=-n.width)}if("*"===n.precision&&n.hasPeriod){if(n.precision=parseInt(arguments[u],10),u+=1,gu(n.precision))throw new TypeError("the argument for * precision at position "+u+" is not a number. Value: `"+n.precision+"`.");n.precision<0&&(n.precision=1,n.hasPeriod=!1)}switch(n.arg=arguments[u],n.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":n.hasPeriod&&(n.padZeros=!1),n.arg=du(n);break;case"s":n.maxWidth=n.hasPeriod?n.precision:-1;break;case"c":if(!gu(n.arg)){if((o=parseInt(n.arg,10))<0||o>127)throw new Error("invalid character code. Value: "+n.arg);n.arg=gu(o)?String(n.arg):_u(o)}break;case"e":case"E":case"f":case"F":case"g":case"G":n.hasPeriod||(n.precision=6),n.arg=vu(n);break;default:throw new Error("invalid specifier: "+n.specifier)}n.maxWidth>=0&&n.arg.length>n.maxWidth&&(n.arg=n.arg.substring(0,n.maxWidth)),n.padZeros?n.arg=bu(n.arg,n.width||n.precision,n.padRight):n.width&&(n.arg=yu(n.arg,n.width,n.padRight)),a+=n.arg||"",u+=1}return a},Eu=Math.sqrt,Ou=Z;var ju=function(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length&&Ou(t.length)&&t.length>=0&&t.length<=4294967295};var Au=function(t){if("function"!=typeof t)throw new TypeError("invalid argument. Must provide a function. Value: `"+t+"`.");return function(e){var r,n;if(!ju(e))return!1;if(0===(r=e.length))return!1;for(n=0;n<r;n++)if(!1===t(e[n]))return!1;return!0}},Tu=Au,Pu=Ra,xu=v,Iu=Tu,Vu=Iu(Pu);xu(Vu,"primitives",Iu(Pu.isPrimitive)),xu(Vu,"objects",Iu(Pu.isObject));var Su=Vu,Uu=lt,Ru=v,Nu=Tu,Mu=Nu(Uu);Ru(Mu,"primitives",Nu(Uu.isPrimitive)),Ru(Mu,"objects",Nu(Uu.isObject));var Bu=Mu,Fu=Hi(),Lu=Fu.length;var ku=function(t){var e;for(e=0;e<Lu;e++)if(t===Fu[e])return!0;return!1},Cu=Xi(),Du=Cu.length;var Gu=function(t){var e;for(e=0;e<Du;e++)if(t===Cu[e])return!0;return!1},Yu=ne;var $u=function(t,e,r,n){var i=Yu(e,r,n);return i[0]>=0&&i[1]<t},Ju=$u;var Wu=function(t){var e,r,n;if(0===(e=t.length))return 0;for(r=1,n=0;n<e;n++)r*=t[n];return r};var zu=function(t){var e=typeof t;return null===t||"object"!==e&&"function"!==e?new TypeError("invalid argument. A provided constructor must be either an object (except null) or a function. Value: `"+t+"`."):null},Xu=Object.create;function Zu(){}var qu=function(t){return Zu.prototype=t,new Zu},Hu=p,Ku=zu,Qu="function"==typeof Xu?Xu:qu;var ts=function(t,e){var r=Ku(t);if(r)throw r;if(r=Ku(e))throw r;if(void 0===e.prototype)throw new TypeError("invalid argument. Second argument must have a prototype from which another object can inherit. Value: `"+e.prototype+"`.");return t.prototype=Qu(e.prototype),Hu(t.prototype,"constructor",{configurable:!0,enumerable:!1,writable:!0,value:t}),t},es=ts,rs={mode:"throw",readonly:!1};var ns=function(t,e){return t<0?0:t>e?e:t},is=function(t,e){var r=e+1;return t<0?((t+=r)<0&&0!==(t%=r)&&(t+=r),t):t>e?((t-=r)>e&&(t%=r),t):t};var os=function(t,e,r){if("clamp"===r)return ns(t,e);if("wrap"===r)return is(t,e);if(t<0||t>e)throw new RangeError("invalid argument. Index must be on the interval: [0,"+e+"]. Value: `"+t+"`.");return t},as=os,us=lt.isPrimitive,ss=as,fs=Qo.prototype.iget;var cs=function(t){if(this._ndims>0){if(!us(t))throw new TypeError("invalid argument. Index must be an integer value. Value: `"+t+"`.");return t=ss(t,this._length-1,this._mode),fs.call(this,t)}return fs.call(this)},ls=lt.isPrimitive,hs=as,ps=Qo.prototype.iset;var gs=function(t,e){if(this._flags.READONLY)throw new Error("invalid invocation. Cannot write to a read-only array.");if(this._ndims>0){if(!ls(t))throw new TypeError("invalid argument. Index must be an integer value. Value: `"+t+"`.");t=hs(t,this._length-1,this._mode),ps.call(this,t,e)}else ps.call(this,t);return this},ds=lt.isPrimitive,vs=as;var ms=function(){var t,e,r,n;if(arguments.length!==this._ndims)throw new RangeError("invalid arguments. Number of indices must match the number of dimensions. ndims: "+this._ndims+". nargs: "+arguments.length+".");for(t=this._offset,r=this._submode.length,n=0;n<arguments.length;n++){if(!ds(arguments[n]))throw new TypeError("invalid argument. Indices must be integer valued. Argument: "+n+". Value: `"+arguments[n]+"`.");e=vs(arguments[n],this._shape[n]-1,this._submode[n%r]),t+=this._strides[n]*e}return this._accessors?this._buffer.get(t):this._buffer[t]},ys=lt.isPrimitive,bs=as;var _s=function(){var t,e,r,n;if(this._flags.READONLY)throw new Error("invalid invocation. Cannot write to a read-only array.");if(arguments.length!==this._ndims+1)throw new RangeError("invalid arguments. Number of indices must match the number of dimensions. ndims: "+this._ndims+". nargs: "+arguments.length+".");for(t=this._offset,r=this._submode.length,n=0;n<arguments.length-1;n++){if(!ys(arguments[n]))throw new TypeError("invalid argument. Indices must be integer valued. Argument: "+n+". Value: `"+arguments[n]+"`.");e=bs(arguments[n],this._shape[n]-1,this._submode[n%r]),t+=this._strides[n]*e}return this._accessors?this._buffer.set(arguments[n],t):this._buffer[t]=arguments[n],this};var ws=function(t,e){var r,n;for(r=[],n=0;n<e;n++)r.push(t[n]);return r},Es=Ye;var Os=function(t){return"object"==typeof t&&null!==t&&!Es(t)},js=Object.getPrototypeOf;var As=function(t){return t.__proto__},Ts=S,Ps=As;var xs=function(t){var e=Ps(t);return e||null===e?e:"[object Function]"===Ts(t.constructor)?t.constructor.prototype:t instanceof Object?Object.prototype:null},Is=js,Vs=xs,Ss=or(Object.getPrototypeOf)?Is:Vs;var Us=Os,Rs=or,Ns=function(t){return null==t?null:(t=Object(t),Ss(t))},Ms=j,Bs=S,Fs=Object.prototype;var Ls=function(t){var e;return!!Us(t)&&(!(e=Ns(t))||!Ms(t,"constructor")&&Ms(e,"constructor")&&Rs(e.constructor)&&"[object Function]"===Bs(e.constructor)&&Ms(e,"isPrototypeOf")&&Rs(e.isPrototypeOf)&&(e===Fs||function(t){var e;for(e in t)if(!Ms(t,e))return!1;return!0}(t)))},ks=Ls,Cs=to(),Ds=Cs.length;var Gs=ks,Ys=j,$s=Ye,Js=function(t){var e;for(e=0;e<Ds;e++)if(t===Cs[e])return!0;return!1},Ws=Rt.isPrimitive;var zs=function(t,e){var r;if(!Gs(e))return new TypeError("invalid argument. Options must be an object. Value: `"+e+"`.");if(Ys(e,"mode")&&(t.mode=e.mode,!Js(t.mode)))return new TypeError("invalid option. `mode` option must be a recognized mode. Option: `"+t.mode+"`.");if(Ys(e,"submode")){if(t.submode=e.submode,!$s(t.submode))return new TypeError("invalid option. `submode` option must be an array containing recognized modes. Option: `"+t.submode+"`.");if(0===t.submode.length)return new TypeError("invalid option. `submode` option must be an array containing recognized modes. Option: `"+t.submode.join(",")+"`.");for(r=0;r<t.submode.length;r++)if(!Js(t.submode[r]))return new TypeError("invalid option. Each `submode` must be a recognized modes. Option: `"+t.submode[r]+"`.");t.submode=t.submode.slice()}return Ys(e,"readonly")&&(t.readonly=e.readonly,!Ws(t.readonly))?new TypeError("invalid option. `readonly` option must be a boolean. Option: `"+t.readonly+"`."):null},Xs=v,Zs=hi,qs=Su.primitives,Hs=Ra.isPrimitive,Ks=Bu.primitives,Qs=or,tf=ku,ef=Gu,rf=Ju,nf=Wu,of=Qo,af=rs,uf=cs,sf=gs,ff=ms,cf=_s,lf=ws,hf=zs;function pf(t,e,r,n,i,o,a){var u,s,f,c,l;if(!(this instanceof pf))return arguments.length<7?new pf(t,e,r,n,i,o):new pf(t,e,r,n,i,o,a);if(!ef(t))throw new TypeError("invalid argument. `dtype` argument must be a supported ndarray data type. Value: `"+t+"`.");if(!Zs(e))throw new TypeError("invalid argument. `buffer` argument must be an array-like object, typed-array-like, or a Buffer. Value: `"+e+"`.");if(e.get&&e.set&&(!Qs(e.get)||!Qs(e.set)))throw new TypeError("invalid argument. `buffer` argument `get` and `set` properties must be functions. Value: `"+e+"`.");if(!qs(r)&&(!Zs(r)||r.length>0))throw new TypeError("invalid argument. `shape` argument must be an array-like object containing nonnegative integers. Value: `"+r+"`.");if((u=r.length)>32767)throw new RangeError("invalid argument. Number of dimensions must not exceed 32767 due to stack limits. Value: `"+u+"`.");if(!Ks(n))throw new TypeError("invalid argument. `strides` argument must be an array-like object containing integers. Value: `"+n+"`.");if(u>0){if(n.length!==u)throw new RangeError("invalid argument. `strides` argument length must match the number of dimensions. Expected number of dimensions: "+u+". Strides length: "+n.length+".")}else{if(1!==n.length)throw new RangeError("invalid argument. `strides` length must be equal to 1 when creating a zero-dimensional ndarray.");if(0!==n[0])throw new RangeError("invalid argument. `strides` argument must contain a single element equal to `0`. Value: `"+n[0]+"`.")}if(!Hs(i))throw new TypeError("invalid argument. `offset` argument must be a nonnegative integer. Value: `"+i+"`.");if(!tf(o))throw new TypeError("invalid argument. `order` argument must be a supported order. Value: `"+o+"`.");if(u>0&&!rf(e.length,r,n,i)&&nf(r)>0)throw new Error("invalid arguments. The input buffer is incompatible with the specified meta data. Ensure that the offset is valid with regard to the strides array and that the buffer has enough elements to satisfy the desired array shape.");if((s={}).mode=af.mode,s.readonly=af.readonly,arguments.length>6&&(f=hf(s,a)))throw f;return this._mode=s.mode,void 0===s.submode&&(s.submode=[this._mode]),this._submode=s.submode,c=lf(r,u),l=lf(n,u||1),of.call(this,t,e,c,l,i,o),this._flags.READONLY=s.readonly,this}es(pf,of),Xs(pf,"name","ndarray"),Xs(pf.prototype,"get",ff),Xs(pf.prototype,"iget",uf),Xs(pf.prototype,"set",cf),Xs(pf.prototype,"iset",sf);var gf=wt.isPrimitive,df=ia,vf=aa,mf=Hr,yf=wu,bf=Eu,_f=pf,wf=Qo,Ef=Wu;function Of(t,e){return(e?wf:_f)("float64",new mf(t*t),[t,t],[t,1],0,"row-major")}function jf(t,e){var r,n=t.shape[0];for(r=0;r<n;r++)t.set(r,r,e);return t}function Af(t){var e;return e=new mf(t),wf("float64",e,[t],[1],0,"row-major")}var Tf=function(t,e){var r,n,i,o,a,u,s,f;if(f=0,gf(t))n=Of(r=t,!1);else{if(!df(t))throw new TypeError(yf("invalid argument. First argument must either specify the order of the correlation matrix or be a square 2-dimensional ndarray for storing the correlation matrix. Value: `%s`.",t));r=t.shape[0],n=t}if(n=jf(n,1),s=new mf(r),i=new mf(r),o=new mf(r),u=Of(r,!0),arguments.length>1){if(!vf(e))throw new TypeError(yf("invalid argument. Second argument must be a 1-dimensional ndarray. Value: `%s`.",e));if(Ef(e.shape)!==r)throw new Error("invalid argument. The number of elements (means) in the second argument must match correlation matrix dimensions. Expected: "+r+". Actual: "+Ef(e.shape)+".");return a=e,l}return a=Af(r),c;function c(t){var e,c,l,h,p,g,d,v,m,y,b,_;if(0===arguments.length)return 0===f?null:n;if(!vf(t))throw new TypeError(yf("invalid argument. Must provide a 1-dimensional ndarray. Value: `%s`.",t));if(t.shape[0]!==r)throw new Error(yf("invalid argument. Vector length must match correlation matrix dimensions. Expected: `%u`. Actual: `%u`.",r,t.shape[0]));if(y=(m=f)/(f+=1),e=m||1,1===f)for(b=0;b<r;b++)for(d=t.get(b),v=a.get(b),v+=(g=d-v)/f,a.set(b,v),s[b]=g,i[b]+=g*(d-v),o[b]=bf(i[b]/e),c=y*s[b],_=0;_<b;_++)l=u.get(b,_)+c*s[_],u.set(b,_,l),u.set(_,b,l);else for(b=0;b<r;b++)for(d=t.get(b),v=a.get(b),v+=(g=d-v)/f,a.set(b,v),s[b]=g,i[b]+=g*(d-v),o[b]=bf(i[b]/e),c=y*s[b],p=o[b],_=0;_<b;_++)l=u.get(b,_)+c*s[_],u.set(b,_,l),u.set(_,b,l),h=l/e/(p*o[_]),n.set(b,_,h),n.set(_,b,h);return n}function l(t){var e,c,l,h,p,g;if(0===arguments.length)return 0===f?null:n;if(!vf(t))throw new TypeError(yf("invalid argument. Must provide a 1-dimensional ndarray. Value: `%s`.",t));if(t.shape[0]!==r)throw new Error(yf("invalid argument. Vector length must match correlation matrix dimensions. Expected: `%u`. Actual: `%u`.",r,t.shape[0]));for(f+=1,p=0;p<r;p++)for(h=t.get(p)-a.get(p),s[p]=h,i[p]+=h*h,o[p]=bf(i[p]/f),l=o[p],g=0;g<p;g++)c=u.get(p,g)+h*s[g],u.set(p,g,c),u.set(g,p,c),e=c/f/(l*o[g]),n.set(p,g,e),n.set(g,p,e);return n}};export{Tf as default};
//# sourceMappingURL=mod.js.map
